{"version":3,"sources":["webpack://app-starter-project-with-webpack/./src/public/sw.js"],"names":["importScripts","workbox","setConfig","debug","modulePathPrefix","precacheAndRoute","precaching","_workbox$routing","routing","registerRoute","_workbox$strategies","navigateFallback","strategies","StaleWhileRevalidate","CacheFirst","NetworkFirst","ExpirationPlugin","expiration","CacheableResponsePlugin","cacheableResponse","self","__WB_MANIFEST","_ref","request","mode","cacheName","plugins","statuses","maxEntries","maxAgeSeconds","_ref2","url","origin","_ref3","destination","_ref4","_ref5","addEventListener","event","data","json","e","title","options","body","text","icon","badge","waitUntil","registration","showNotification"],"mappings":"MAAA,cAAc,2EAEd,QAAQ,UAAU,CAChB,OAAO,EACP,iBAAkB,+DAGpB,IAAQ,EAAqB,QAAQ,WAA7B,iBACR,EAA4C,QAAQ,QAA5C,EAAa,EAAb,cACR,GADuC,EAAhB,iBACoC,QAAQ,YAA3D,EAAoB,EAApB,qBAAsB,EAAU,EAAV,WAAY,EAAY,EAAZ,aAClC,EAAqB,QAAQ,WAA7B,iBACA,EAA4B,QAAQ,kBAApC,wBAER,EAAiB,i4EAAK,eAEtB,GACE,SAAA,GAAU,MAAwB,aAAxB,EAAP,QAAsB,IAAmB,GAC5C,IAAI,EAAa,CACf,UAAW,cACX,QAAS,CACP,IAAI,EAAwB,CAC1B,SAAU,CAAC,EAAG,OAEhB,IAAI,EAAiB,CACnB,WAAY,GACZ,cAAe,aAMvB,GACE,SAAA,GAAM,MAAsB,mCAAtB,EAAH,IAAc,MAA2C,GAC5D,IAAI,EAAqB,CACvB,UAAW,YACX,QAAS,CACP,IAAI,EAAwB,CAC1B,SAAU,CAAC,EAAG,OAEhB,IAAI,EAAiB,CACnB,WAAY,GACZ,cAAe,YAMvB,GACE,SAAA,GAAA,IAAG,EAAO,EAAP,QAAO,MACgB,UAAxB,EAAQ,aACgB,WAAxB,EAAQ,aACgB,WAAxB,EAAQ,WAAwB,GAClC,IAAI,EAAqB,CACvB,UAAW,eACX,QAAS,CACP,IAAI,EAAwB,CAC1B,SAAU,CAAC,EAAG,OAEhB,IAAI,EAAiB,CACnB,WAAY,GACZ,cAAe,aAMvB,GACE,SAAA,GAAU,MAA+B,UAA/B,EAAP,QAAsB,WAAuB,GAChD,IAAI,EAAW,CACb,UAAW,eACX,QAAS,CACP,IAAI,EAAwB,CAC1B,SAAU,CAAC,EAAG,OAEhB,IAAI,EAAiB,CACnB,WAAY,GACZ,cAAe,aAMvB,GACE,SAAA,GAAU,MAA+B,SAA/B,EAAP,QAAsB,WAAsB,GAC/C,IAAI,EAAW,CACb,UAAW,cACX,QAAS,CACP,IAAI,EAAwB,CAC1B,SAAU,CAAC,EAAG,OAEhB,IAAI,EAAiB,CACnB,WAAY,GACZ,cAAe,aAMvB,KAAK,iBAAiB,QAAQ,SAAS,GACrC,IAAI,EAAO,CAAC,EACZ,GAAI,EAAM,KACR,IACE,EAAO,EAAM,KAAK,MACpB,CAAE,MAAO,GACP,EAAO,CAAE,MAAO,OAAQ,QAAS,CAAE,KAAM,EAAM,KAAK,QACtD,CAEF,IAAM,EAAQ,EAAK,OAAS,iBACtB,EAAU,EAAK,SAAW,CAC9B,KAAM,mCACN,KAAM,yBACN,MAAO,0BAET,EAAM,UACJ,KAAK,aAAa,iBAAiB,EAAO,GAE9C","file":"sw.js","sourceRoot":"","sourcesContent":["importScripts('https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js');\n\nworkbox.setConfig({\n  debug: false,\n  modulePathPrefix: 'https://storage.googleapis.com/workbox-cdn/releases/6.4.1/'\n});\n\nconst { precacheAndRoute } = workbox.precaching;\nconst { registerRoute, navigateFallback } = workbox.routing;\nconst { StaleWhileRevalidate, CacheFirst, NetworkFirst } = workbox.strategies;\nconst { ExpirationPlugin } = workbox.expiration;\nconst { CacheableResponsePlugin } = workbox.cacheableResponse;\n\nprecacheAndRoute(self.__WB_MANIFEST);\n\nregisterRoute(\n  ({ request }) => request.mode === 'navigate',\n  new NetworkFirst({\n    cacheName: 'pages-cache',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({\n        maxEntries: 30,\n        maxAgeSeconds: 30 * 24 * 60 * 60, \n      }),\n    ],\n  })\n);\n\nregisterRoute(\n  ({ url }) => url.origin === 'https://story-api.dicoding.dev',\n  new StaleWhileRevalidate({\n    cacheName: 'api-cache',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({ \n        maxEntries: 50,\n        maxAgeSeconds: 24 * 60 * 60 \n      })\n    ]\n  })\n);\n\nregisterRoute(\n  ({ request }) => \n    request.destination === 'style' || \n    request.destination === 'script' || \n    request.destination === 'worker',\n  new StaleWhileRevalidate({\n    cacheName: 'assets-cache',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({\n        maxEntries: 60,\n        maxAgeSeconds: 30 * 24 * 60 * 60, \n      }),\n    ],\n  })\n);\n\nregisterRoute(\n  ({ request }) => request.destination === 'image',\n  new CacheFirst({\n    cacheName: 'images-cache',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({\n        maxEntries: 60,\n        maxAgeSeconds: 30 * 24 * 60 * 60 \n      })\n    ]\n  })\n);\n\nregisterRoute(\n  ({ request }) => request.destination === 'font',\n  new CacheFirst({\n    cacheName: 'fonts-cache',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({\n        maxEntries: 30,\n        maxAgeSeconds: 60 * 24 * 60 * 60, \n      }),\n    ],\n  })\n);\n\nself.addEventListener('push', function(event) {\n  let data = {};\n  if (event.data) {\n    try {\n      data = event.data.json();\n    } catch (e) {\n      data = { title: 'Push', options: { body: event.data.text() } };\n    }\n  }\n  const title = data.title || 'Dicoding Story';\n  const options = data.options || {\n    body: 'Anda menerima push notification!',\n    icon: 'icons/icon-192x192.png',\n    badge: 'icons/icon-192x192.png'\n  };\n  event.waitUntil(\n    self.registration.showNotification(title, options)\n  );\n});"]}